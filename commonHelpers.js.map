{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function serviceGetImage(query){\n\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '43229281-da9ce3bce46360bd3cf91ebb8';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\n\nexport { serviceGetImage };\n","function createImageMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"list-item\">\n      <a class=\"item-link\" href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <div class=\"img-desc\">\n        <h2 class=\"title\">Likes <p class=\"p\">${likes}</p></h2>\n        <h2 class=\"title\">Views <p class=\"p\">${views}</p></h2>\n        <h2 class=\"title\">Comments <p class=\"p\">${comments}</p></h2>\n        <h2 class=\"title\">Downloads <p class=\"p\">${downloads}</p></h2>\n      </div>\n      \n      </li>`\n    )\n    .join('');\n}\n\nexport { createImageMarkup };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { serviceGetImage } from './js/pixabay-api';\nimport { createImageMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.js-form');\nconst loader = document.querySelector('.preloader');\nconst gallery = document.querySelector('.js-list');\n\nform.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(event) {\n    event.preventDefault();\n    \n  gallery.innerHTML = '';\n    const inputValue = event.currentTarget.elements.query.value\n      .trim()\n      .toLowerCase();\n    loader.classList.remove('is-hidden');\n    serviceGetImage(inputValue)\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: 'red',\n            messageColor: '#fff',\n          });\n          return;\n        }\n        gallery.innerHTML = createImageMarkup(data.hits);\n        new SimpleLightbox('.gallery a', {\n          captionDelay: 250,\n        });\n        gallery.refresh();\n      })\n      .catch(err => err.statusText)\n      .finally(() => loader.classList.add('is-hidden'));\n\n    event.currentTarget.reset();\n}\n\n\n"],"names":["serviceGetImage","query","BASE_URL","API_KEY","params","resp","createImageMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","loader","gallery","handlerSearch","event","inputValue","data","iziToast","SimpleLightbox","err"],"mappings":"6vBAAA,SAASA,EAAgBC,EAAM,CAE7B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAQ,CACjD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CCnBA,SAASC,EAAkBC,EAAK,CAC9B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,mCAC2BL,CAAa;AAAA,kBAC9BD,CAAY,UAAUE,CAAI;AAAA;AAAA,+CAEGC,CAAK;AAAA,+CACLC,CAAK;AAAA,kDACFC,CAAQ;AAAA,mDACPC,CAAS;AAAA;AAAA;AAAA,YAIvD,EACA,KAAK,EAAE,CACZ,CChBA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAEtBF,EAAQ,UAAY,GAClB,MAAMG,EAAaD,EAAM,cAAc,SAAS,MAAM,MACnD,KAAM,EACN,cACHH,EAAO,UAAU,OAAO,WAAW,EACnChB,EAAgBoB,CAAU,EACvB,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,MACjB,aAAc,MAC1B,CAAW,EACD,MACD,CACDL,EAAQ,UAAYX,EAAkBe,EAAK,IAAI,EAC/C,IAAIE,EAAe,aAAc,CAC/B,aAAc,GACxB,CAAS,EACDN,EAAQ,QAAO,CACvB,CAAO,EACA,MAAMO,GAAOA,EAAI,UAAU,EAC3B,QAAQ,IAAMR,EAAO,UAAU,IAAI,WAAW,CAAC,EAElDG,EAAM,cAAc,OACxB"}